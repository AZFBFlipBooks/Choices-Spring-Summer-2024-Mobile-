<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ChoicesÂ </title>
    <style>

        #flipbook {
    
    height: 90vh;
    position: absolute;
display: flex;
    width: 30%;
    max-width: 80%; /* Adjust the maximum width as needed */
display: flex;
    flex-direction: column;
    align-items: center;
justify-content: center;
}

#flipbook .page {
    /* existing styles */
    transition: transform 0.6s; /* Adjust the duration as needed */
    /* Add necessary styles for the page */
    position: absolute;
    width: 40vh;
    height: 100vh;
    backface-visibility: hidden; /* This makes the back of the page invisible when flipped */
    /* More styles as needed for the appearance of the page */
}

     #container {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    height: 100vh;
    overflow: hidden;
}

#flipbook-container {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 100%;
    max-width: 80%; /* Adjust the maximum width as needed */
    height: auto;
    position: relative;
    perspective: 1000px;
}

#flipbook {
    display: flex;
    width: 80%;
    max-width: 80%; /* Adjust the maximum width as needed */
}

.page {

    width: auto;
    height: auto;
    position: absolute;
    background-color: white;
    border: px solid #ccc;
    backface-visibility: hidden;
    transform-origin: left center;
}


#prevNextContainer {
    margin: 5px;
    display: flex;
    justify-content: center; /* Center the buttons horizontally */
    width: 100%;
    max-width: 80%; /* Adjust the maximum width as needed */
    margin-left: 20vh;
    bottom: 400px; /* Moves the container up */
    position: relative; /* Add this line to enable the use of 'top' */
    z-index: 999; /* Ensure the container is above other elements */
}
.topnav {
height:55px;
  overflow: hidden;
  background-color: Orange;
}

.topnav a {
  float: left;
  color: black;
  text-align: center;
  padding: 14px 16px;
  text-decoration: none;
  font-size: 17px;
}

.topnav a:hover {
  background-color: #ddd;
  color: black;
}

.topnav a.active {
  background-color: #04AA6D;
  color: white;
}
    </style>
</head>
<body>
    <div class="topnav">
        <button id="prev-btn" class="control-button"style="margin:20px;">Previous Page </button>
                  <button id="next-btn" class="control-button">Next Page</button>
    
                  </div>
    
<div id="container">
    <div id="flipbook">
        <div class="page">
            <img src="https://i.ibb.co/zxrvP2z/monile1.png" usemap="#image-map1">

<map name="image-map1">
    <area target="_blank" alt="Geo" title="Geo" href="https://shorturl.at/ijnGL" coords="309,476,581,446" shape="rect">
    <area target="_blank" alt="EPA" title="EPA" href="https://www.epa.gov/ghgemissions/inventory-us-greenhouse-gas-emissions-and-sinks" coords="40,560,290,578" shape="rect">
</map>
            
        </div>
        <div class="page">
            <img src="https://i.ibb.co/8M9M2rY/mobile-2.png" alt="pg-2" border="0">
        </div>
        <div class="page">
            <img src="https://i.ibb.co/NjpdsK8/mobile3.png" usemap="#image-map2">

<map name="image-map2">
    <area target="_blank" alt="Email" title="Email" href="mailto:joelcarr@azfb.org" coords="331,290,403,304" shape="rect">
</map>
                            
        </div>
        <div class="page">
            <img src="https://i.ibb.co/n1QKbYt/mobile4.png" usemap="#image-map3">

            <map name="image-map3">
                <area target="_blank" alt="AZFB" title="AZFB" href="https://shorturl.at/wFILR" coords="471,378,527,388" shape="rect">
                <area target="" alt="Email2" title="Email2" href="mailto:elizabethrico@azfb.org" coords="405,400,493,406" shape="0">
            </map>
        </div>
        <div class="page">
            <img src="https://i.ibb.co/Z2DsqxG/mobile5.png" usemap="#image-map4">

            <map name="image-map4">
                <area target="_blank" alt="Screen" title="Screen" href="https://www.lifelinescreening.com/" coords="512,370,585,376" shape="rect">
            </map>
        </div>
        <div class="page">

            <img src="https://i.ibb.co/c1qsLF7/mobile6.png" usemap="#image-map5">

            <map name="image-map5">
                <area target="_blank" alt="EPA2" title="EPA2" href="https://www.fb.org/market-intel/2022-epa-emissions-inventory-highlights-agricultures-sustainability-strides" coords="21,709,285,730" shape="rect">
            </map>
        </div>
        <div class="page">
            <img src="https://i.ibb.co/2yYWQgm/mobile7.png" usemap="#image-map6">

            <map name="image-map6">
                <area target="_blank" alt="FireWise" title="FireWise" href="https://www.nifc.gov/fire-information/fire-prevention-education-mitigation/wildfire-mitigation/home" coords="306,735,486,741" shape="rect">
            </map>
        </div>
        <div class="page">
            <img src="https://i.ibb.co/2WVpMwT/mobile8.png" alt="pg-8" border="0">
        </div>
    </div>
    </div>
    <br>
    <div id="prevNextContainer">
        <button id="prevPage">Previous</button>
        <button id="nextPage">Next</button>

    
    
<script>
    let currentPage = 0;
    const pages = document.querySelectorAll('.page');
    const totalPages = pages.length;
    const flipbook = document.getElementById('flipbook');

    // Set initial z-index values for each page
    pages.forEach((page, index) => {
        page.style.zIndex = totalPages - index;
    });

    function flipToPage(pageNumber) {
        if (pageNumber > currentPage) {
            for (let i = currentPage; i < pageNumber; i++) {
                pages[i].style.transform = 'rotateY(-180deg)';
            }
        } else if (pageNumber < currentPage) {
            for (let i = currentPage - 1; i >= pageNumber; i--) {
                pages[i].style.transform = '';
            }
        }
        currentPage = pageNumber;
    }

    document.getElementById('prev-btn').addEventListener('click', () => {
        if (currentPage > 0) {
            flipToPage(currentPage - 1);
        }
    });

    document.getElementById('next-btn').addEventListener('click', () => {
        if (currentPage < totalPages - 1) {
            flipToPage(currentPage + 1);
        }
    });

    // Initialize the flipbook to the first page
    flipToPage(0);

    // Zoom and Pan Functionality
    const zoomSlider = document.getElementById('zoomSlider');
    let zoomFactor = 1;
    let offsetX = 0;
    let offsetY = 0;

    function updateZoom() {
        const transform = `scale(${zoomFactor}) translate(${offsetX}px, ${offsetY}px)`;
        flipbook.style.transform = transform;
    }

    zoomSlider.addEventListener('input', () => {
    targetZoomFactor = parseFloat(zoomSlider.value); // Ensure numeric value is used
    smoothZoom();
});

    // Add panning functionality for mouse events
    let isPanning = false;
    let startX = 0;
    let startY = 0;

    flipbook.addEventListener('mousedown', (e) => {
        isPanning = true;
        startX = e.clientX - offsetX;
        startY = e.clientY - offsetY;
    });

    document.addEventListener('mousemove', (e) => {
        if (isPanning) {
            offsetX = e.clientX - startX;
            offsetY = e.clientY - startY;
            updateZoom();
        }
    });

    document.addEventListener('mouseup', () => {
        isPanning = false;
    });

    // Add panning functionality for touch events
    let isTouchPanning = false;
    let touchStartX = 0;
    let touchStartY = 0;

    flipbook.addEventListener('touchstart', (e) => {
        isTouchPanning = true;
        const touch = e.touches[0];
        touchStartX = touch.clientX - offsetX;
        touchStartY = touch.clientY - offsetY;
    });

    flipbook.addEventListener('touchmove', (e) => {
        if (isTouchPanning) {
            const touch = e.touches[0];
            offsetX = touch.clientX - touchStartX;
            offsetY = touch.clientY - touchStartY;
            updateZoom();
        }
    });

    flipbook.addEventListener('touchend', () => {
        isTouchPanning = false;
    });

    // Initial update for zoom
    updateZoom();

function lerp(start, end, factor) {
    return (1 - factor) * start + factor * end;
}

let targetZoomFactor = zoomFactor;
let zoomLerpFactor = 0.1; // Adjust this for smoother or faster zooming

function smoothZoom() {
    if (Math.abs(targetZoomFactor - zoomFactor) > 0.01) {
        zoomFactor = lerp(zoomFactor, targetZoomFactor, zoomLerpFactor);
        updateZoom();
        requestAnimationFrame(smoothZoom);
    }
}

zoomSlider.addEventListener('input', () => {
    targetZoomFactor = zoomSlider.value;
    smoothZoom();
});

// Call smoothZoom instead of updateZoom in other parts of your code where zoomFactor is modified



    </script>
</body>
</html>
